name : Integration

on :
  push :
    branches :
      - main
  pull_request :
    branches :
      - main 
workflow_dispatch :

jobs :
  tests-and-build:
    runs-on : ubuntu-latest
  
  strategy :
    matrix :
      node-version : [18.x]
    
  steps :
    - name : checkout code
    - uses : actions/checkout@v4

    - name : Set up Node.js
    - uses : actions/setup-node@v3
    - with :
        node-version : ${{matrix.node-version}}
        cache : 'npm'
    
    - name : Install dependencies
    - run : npm i

    - name : Run linter
    - run : npm run lint

    - name : Run tests
    - run : npm run test

    - name : Build
    - run : npm run build

